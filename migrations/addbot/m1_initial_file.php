<?php
/**
*
* @package phpBB Extension - Add Bot
* @copyright (c) 2020 dmzx - https://www.dmzx-web.net
* @license http://opensource.org/licenses/gpl-2.0.php GNU General Public License v2
*
*/

namespace dmzx\addbot\migrations\addbot;

use phpbb\db\migration\container_aware_migration;

class m1_initial_file extends container_aware_migration
{
	static public function depends_on()
	{
		return ['\phpbb\db\migration\data\v330\v330'];
	}

	public function update_data()
	{
		return [
			['custom', [[$this, 'update_bots']]],
		];
	}

	public function update_bots()
	{
		$sql = 'SELECT group_id FROM ' . GROUPS_TABLE . " WHERE group_name = 'BOTS'";
		$result = $this->db->sql_query($sql);
		$group_id = (int) $this->db->sql_fetchfield('group_id', false, $result);
		$this->db->sql_freeresult($result);

		if (!$group_id)
		{
			add_default_groups();

			$sql = 'SELECT group_id FROM ' . GROUPS_TABLE . " WHERE group_name = 'BOTS'";
			$result = $this->db->sql_query($sql);
			$group_id = (int) $this->db->sql_fetchfield('group_id', false, $result);
			$this->db->sql_freeresult($result);

			if (!$group_id)
			{
				trigger_error($this->user->lang['NO_GROUP_ID']);
			}
		}

		$bots = [
			'123spider [Spider]' 								=> ['123spider-Bot', ''],
			'1klik.dk [Bot]' 									=> ['FastCrawler', ''],
			'24spider [Spider]' 								=> ['24spider-Robot', ''],
			'2Bone Link Checker [Bot]' 							=> ['2Bone', ''],
			'50.nu [Bot]' 										=> ['50.nu', ''],
			'80legs [Bot]' 										=> ['80legs', ''],
			'ABACHO [Bot]' 										=> ['AbachoBOT', ''],
			'ABCdatos [Bot]' 									=> ['ABCdatos', ''],
			'Aberja [Bot]'										=> ['Aberja Checkomat', ''],
			'Abonti [Bot]' 										=> ['Abonti', ''],
			'About [Bot]' 										=> ['About/', ''],
			'AboutUs [Bot]' 									=> ['AboutUsBot/', ''],
			'Acoon [Bot]' 										=> ['AcoonBot/', ''],
			'Accelobot [Bot]' 									=> ['accelobot', ''],
			'Accoona [Bot]' 									=> ['accoona', ''],
			'Accoona AI [Agent]' 								=> ['Accoona-AI-Agent/', ''],
			'ActiveBookmark [Bot]' 								=> ['ActiveBookmark', ''],
			'AddThis [Bot]' 									=> ['AddThis', ''],
			'AEIWI [Bot]' 										=> ['Aeiwi', ''],
			'Aesop [Bot]' 										=> ['AESOP', ''],
			'Agada [Bot]' 										=> ['agadine', ''],
			'AgHaven [Bot]' 									=> ['Aghaven', ''],
			'Ahrefs [Bot]' 										=> ['AhrefsBot', ''],
			'AideRSS [RSS]' 									=> ['AideRSS', ''],
			'aiHit [Bot]' 										=> ['aiHitBot/', ''],
			'AISearch [Bot]' 									=> ['AISearchBot', ''],
			'Aitellu [Bot]' 									=> ['Aitellu', ''],
			'Alkaline [Bot]' 									=> ['AlkalineBOT', ''],
			'Allesklar [Bot]' 									=> ['Allesklar', ''],
			'Altresium [Bot]' 									=> ['Altresium/', ''],
			'Amazon Elastic Cloud [Crawler]' 					=> ['grvcrawler/', ''],
			'Amfibi [Bot]' 										=> ['Amfibibot', ''],
			'Amidalla [Bot]' 									=> ['amibot', ''],
			'Aport [Bot]' 										=> ['Aport', ''],
			'Apple Feedreader [Bot]' 							=> ['Apple-PubSub', ''],
			'Apple Syndication [Bot]' 							=> ['AppleSyndication', ''],
			'Arachnid Crawler [Bot]' 							=> ['ArachBot', ''],
			'Arexera [Bot]' 									=> ['X-Crawler', ''],
			'Arianna [Bot]' 									=> ['arianna', ''],
			'ASPseek [Bot]' 									=> ['ASPseek/', ''],
			'Async Http Client [Bot]' 							=> ['AsyncHttpClient', ''],
			'Attentio [Bot]' 									=> ['Attentio', ''],
			'August [BadBot]' 									=> ['AugustBot', ''],
			'AustLII [Bot]' 									=> ['Gromit', ''],
			'Axada [Bot]' 										=> ['axadine', ''],
			'Babaloo [Bot]' 									=> ['BabalooSpider', ''],
			'Backtype [Bot]' 									=> ['kame-rt (support@backtype.com)', ''],
			'Balihoo [Bot]' 									=> ['Balihoo', ''],
			'BDProtect [Bot]' 									=> ['BPImageWalker', ''],
			'Become [Bot]' 										=> ['BecomeBot', ''],
			'Become.com [Bot]' 									=> ['become.com/', ''],
			'BeetleBot [Bot]' 									=> ['BeetleBot', ''],
			'Begun.ru [Bot]' 									=> ['Begun Robot Crawler', ''],
			'Bemash [Bot]' 										=> ['bemash', ''],
			'Best of the Web [Spider]' 							=> ['BOTW Spider', ''],
			'Big Brother [Bot]' 								=> ['Big Brother', ''],
			'BigClique [Bot]' 									=> ['BigCliqueBOT', ''],
			'Bim Zone [Bot]' 									=> ['bim-zone', ''],
			'Bintellibot [Bot]' 								=> ['Mozilla/bintellibot', ''],
			'Biru [Bot]' 										=> ['Birubot/', ''],
			'Bit.ly [Bot]' 										=> ['bitlybot', ''],
			'BitTorrent [Bot]' 									=> ['BTbot', ''],
			'Bixo Labs [Bot]' 									=> ['bixolabs', ''],
			'Blekkobot [Bot]' 									=> ['Blekkobot', ''],
			'BlogDex [Bot]' 									=> ['BlogBot', ''],
			'Bloglines [Bot]' 									=> ['Bloglines', ''],
			'BlogScope [Bot]' 									=> ['BlogScope', ''],
			'BlogSearch [Bot]' 									=> ['BlogSearch/', ''],
			'Blue.lu [Bot]' 									=> ['Confuzzledbot', ''],
			'BoardReader [Bot]' 								=> ['BoardReader', ''],
			'Boitho-dc [Bot]' 									=> ['boitho.com', ''],
			'Bookdog [Bot]' 									=> ['Bookdog', ''],
			'Boston Project [SpamBot]' 							=> ['Boston Project', ''],
			'Brandwatch [Bot]' 									=> ['magpie-crawler', ''],
			'Brandwatch Jakarta [Bot]' 							=> ['Jakarta Commons', ''],
			'Bunnybot [Bot]' 									=> ['powered by www.buncat.de', ''],
			'BuiBui [Bot]' 										=> ['BuiBui', ''],
			'Business.com [Bot]' 								=> ['bdcindexer', ''],
			'BuzzRanking [Bot]' 								=> ['BuzzRankingBot', ''],
			'CanadianContent [Bot]' 							=> ['RoboCrawl', ''],
			'Cazoodle [Bot]' 									=> ['CazoodleBot', ''],
			'Ceron News [Bot]' 									=> ['ceron.jp', ''],
			'Check Favorites [Bot]' 							=> ['Check Favorites', ''],
			'Checkbot [Bot]' 									=> ['Checkbot', ''],
			'Checklinks [Linkcheck]' 							=> ['CheckLinks/', ''],
			'CheckWeb [Bot]' 									=> ['CheckWeb', ''],
			'Cipinet [Bot]' 									=> ['CipinetBot', ''],
			'Cityreview [Bot]' 									=> ['Cityreview', ''],
			'Claymont [Bot]' 									=> ['Claymont.com', ''],
			'cligoo [Bot]' 										=> ['CligooRobot/', ''],
			'Clush [Bot]' 										=> ['Clushbot', ''],
			'CMS Worldmap [Bot]' 								=> ['cmsworldmap.com', ''],
			'Cometrics [Bot]' 									=> ['cometrics-bot', ''],
			'CommandCom [Bot]' 									=> ['crawly@commandcom.com', ''],
			'CommonCrawl [Bot]' 								=> ['CCBot', ''],
			'Conpilot [Bot]' 									=> ['conpilot', ''],
			'Consumers Union [Bot]' 							=> ['cu-spider', ''],
			'ContextWeb [Bot]' 									=> ['ContextAd', ''],
			'Cosmix [Bot]' 										=> ['cfetch/', ''],
			'Cosmoty [Bot]' 									=> ['beautybot', ''],
			'CRAWL-E [Crawler]' 								=> ['CRAWL-E/', ''],
			'Crawler Search [Crawler]' 							=> ['.Crawler-Search.de', ''],
			'Crawler0.1 [Crawler]' 								=> ['Crawler0.1', ''],
			'CreativeCommons [Bot]' 							=> ['CreativeCommons', ''],
			'Crowsnest [Bot]' 									=> ['Crowsnest', ''],
			'Cruiser [Bot]' 									=> ['Internet Cruiser Robot', ''],
			'Crystal Semantics [Bot]' 							=> ['CrystalSemanticsBot', ''],
			'Cuil [Bot]' 										=> ['Twiceler', ''],
			'curl [Bot]' 										=> ['curl/', ''],
			'Custo [Bot]' 										=> ['Custo', ''],
			'Cyber Spyder Link Test [Bot]' 						=> ['CyberSpyder', ''],
			'CyberPatrol [Bot]' 								=> ['CyberPatrol', ''],
			'Cydral [Bot]' 										=> ['CydralSpider', ''],
			'Cynthia [Bot]' 									=> ['Cynthia', ''],
			'DailyOrbit [Bot]' 									=> ['Orbiter', ''],
			'DailyPerfect [Bot]' 								=> ['DailyPerfect', ''],
			'Daum [Bot]' 										=> ['Daumoa', ''],
			'Dead Link Check [Bot]' 							=> ['DeadLinkCheck', ''],
			'DeepIndex [Bot]' 									=> ['DeepIndex', ''],
			'DepSpid [Bot]' 									=> ['DepSpid', ''],
			'Desert Realm [Bot]' 								=> ['DesertRealm', ''],
			'Die Blinde Kuh [Bot]' 								=> ['Die Blinde Kuh', ''],
			'Diffbot [Bot]' 									=> ['Diffbot', ''],
			'Diggit! [Bot]' 									=> ['Digger/', ''],
			'DiscoveryEngine [Bot]' 							=> ['discobot', ''],
			'Ditto [Spider]' 									=> ['DittoSpyder', ''],
			'DLE_Spider Xrumer [SpamBot]' 						=> ['DLE_Spider', ''],
			'DotNetDotCom.org [Bot]' 							=> ['DotBot', ''],
			'Dow Jones Searchbot [Bot]' 						=> ['Dow Jones Searchbot', ''],
			'Dumbfind [Bot]' 									=> ['Dumbot', ''],
			'DZNET [Bot]'										=> ['Kevin', ''],
			'EasyBib [Bot]' 									=> ['EasyBib ', ''],
			'EchO! [Bot]' 										=> ['EchO!/', ''],
			'EliteSys [Bot]' 									=> ['EliteSys SuperBot/', ''],
			'EmailSearch [SpamBot]' 							=> ['EmailSearch', ''],
			'embed.ly [Bot]' 									=> ['Embedly/', ''],
			'Enaball [Crawler]' 								=> ['EnaBot', ''],
			'Entireweb Speedy [Spider]' 						=> ['Speedy Spider', ''],
			'Envolk [Bot]' 										=> ['envolk', ''],
			'Eqentia [Bot]' 									=> ['EQENTIA', ''],
			'eSobi [Bot]' 										=> ['eSobi', ''],
			'Esperanza [Bot]' 									=> ['EsperanzaBot', ''],
			'EventMachine [Bot]' 								=> ['EventMachine HttpClient', ''],
			'Evri [Bot]' 										=> ['Evrinid Iudex', ''],
			'Exactseek [Bot]' 									=> ['ExactSeek', ''],
			'ExaleadThumbnails [Bot]' 							=> ['Exabot-Thumbnails', ''],
			'Exooba [Crawler]' 									=> ['exooba', ''],
			'EXPelite [SpamBot]' 								=> ['ExtractorPro', ''],
			'Ezooms [Bot]' 										=> ['Ezooms', ''],
			'Facebook [Bot]' 									=> ['facebookexternalhit', ''],
			'Facebook Scraper [Bot]' 							=> ['facebookscraper', ''],
			'FairShare [Bot]' 									=> ['fairshare.cc', ''],
			'FakeWordpress [SpamBot]' 							=> ['WordPress/', ''],
			'Fast Crawler Gold [Bot]' 							=> ['Fast Crawler Gold Edition', ''],
			'FAST FirstPage [Bot]' 								=> ['FAST FirstPage retriever', ''],
			'FAST MetaWeb [Crawler]'							=> ['FAST MetaWeb Crawler', ''],
			'Fast PartnerSite [Crawler]' 						=> ['Fast PartnerSite Crawler', ''],
			'Favorstar [Bot]'									=> ['favorstarbot', ''],
			'FeedDemon [Bot]' 									=> ['FeedDemon', ''],
			'Feedreader [Bot]' 									=> ['Newsbrain', ''],
			'Filangy [Bot]' 									=> ['Filangy', ''],
			'Findexa [Crawler]' 								=> ['Findexa Crawler (', ''],
			'Fireball [Bot]' 									=> ['Fireball', ''],
			'FLR Treato [Bot]' 									=> ['FLR-Bot', ''],
			'Focuseek [Bot]' 									=> ['focuseekbot', ''],
			'Followsite [Bot]' 									=> ['Followsite', ''],
			'Freenewsmobile [Bot]' 								=> ['freenews', ''],
			'FULLSearch [Bot]' 									=> ['FULLSearch', ''],
			'Funnelback [Bot]' 									=> ['Funnelback', ''],
			'Furl [Bot]' 										=> ['FurlBot', ''],
			'FyberSearch [Spider]' 								=> ['FyberSpider', ''],
			'g2 [Crawler]' 										=> ['g2Crawler', ''],
			'Gais [Bot]' 										=> ['Gaisbot/', ''],
			'Galaxy [Bot]' 										=> ['GalaxyBot', ''],
			'Garlik [Bot]' 										=> ['GarlikCrawler', ''],
			'GBSpider [Spider]' 								=> ['GBSpider v', ''],
			'Geigerzaehler [Bot]' 								=> ['http://www.geigerzaehler.org/bot.html', ''],
			'genie [Bot]' 										=> ['genieBot (', ''],
			'GeoBot [Bot]' 										=> ['GeoBot/version', ''],
			'GeoHasher [Bot]' 									=> ['GeoHasher', ''],
			'Geona [Bot]' 										=> ['GeonaBot', ''],
			'Gigablast [Bot]' 									=> ['gigablast.com/', ''],
			'GingerCrawler [Bot]' 								=> ['GingerCrawler', ''],
			'Girafa [Bot]' 										=> ['Girafabot', ''],
			'Gnip [Bot]' 										=> ['UnwindFetchor', ''],
			'GoForIt [Bot]' 									=> ['GOFORITBOT', ''],
			'GoGuides [Bot]' 									=> ['Goblin', ''],
			'Google AppEngine' 									=> ['AppEngine-Google', ''],
			'Google FeedBurner [Bot]' 							=> ['FeedBurner', ''],
			'Google Search Appliance [Crawler]' 				=> ['gsa-crawler', ''],
			'Google Sitemap [Bot]' 								=> ['GSMA/', ''],
			'Google Web Preview [Bot]' 							=> ['Google Web Preview', ''],
			'Google Wireless Transcoder [Bot]' 					=> ['Google Wireless Transcoder', ''],
			'goo ichiro [Crawler]' 								=> ['ichiro', ''],
			'Gooro [Spider]' 									=> ['Gooru-WebSpider', ''],
			'Guruji [Bot]' 										=> ['GurujiBot', ''],
			'Guruji Image [Bot]' 								=> ['GurujiImageBot', ''],
			'Hailoo [Bot]' 										=> ['Hailoobot', ''],
			'Haodewap [Bot]' 									=> ['haodewap', ''],
			'Hatena Antenna [Bot]' 								=> ['Hatena Antenna', ''],
			'hbtronix [Spider]' 								=> ['hbtronix.spider', ''],
			'Heeii [Bot]' 										=> ['Heeii', ''],
			'HMSEbot [SpamBot]' 								=> ['HMSEbot', ''],
			'Hogsearch [Bot]' 									=> ['oegp v.', ''],
			'Homerweb [Bot]' 									=> ['Homerbot', ''],
			'Hoppa! [Bot]' 										=> ['Toutatis', ''],
			'Houxou [Crawler]' 									=> ['HouxouCrawler/', ''],
			'HP Web PrintSmart [Bot]' 							=> ['HP Web PrintSmart', ''],
			'Html Link Validator [Bot]' 						=> ['Html Link Validator', ''],
			'HTML2JPG [Bot]' 									=> ['HTML2JPG', ''],
			'HTTrack [Bot]' 									=> ['HTTrack', ''],
			'Huawei Symantec [Spider]' 							=> ['Huaweisymantecspider', ''],
			'IceRocket [Bot]' 									=> ['BlogzIce', ''],
			'IconSurf [Bot]' 									=> ['IconSurf', ''],
			'IIT Bombay [Bot]' 									=> ['IITB', ''],
			'Ilse [Bot]' 										=> ['IlseBot', ''],
			'ImageShack [Bot]' 									=> ['ImageShack Image Fetcher', ''],
			'Imageshack/Nutch [Bot]' 							=> ['ShackCrawl', ''],
			'InAGist [Bot]' 									=> ['InAGist URL Resolver', ''],
			'Indy Library [BadBot]' 							=> ['Indy Library', ''],
			'Infegy [Bot]' 										=> ['Socialradarbot', ''],
			'INFOmine [Bot]' 									=> ['iVia', ''],
			'Information Credibility Criteria Project [Bot]' 	=> ['ICC-Crawler', ''],
			'InfoSeek SideWinder [Crawler]' 					=> ['Infoseek SideWinder/', ''],
			'Inktomi [Bot]' 									=> ['Inktomi', ''],
			'Insuranco [Bot]' 									=> ['InsurancoBot', ''],
			'Internet Archive [Bot]' 							=> ['archive.org_bot', ''],
			'Internet Memory [Bot]' 							=> ['imbot', ''],
			'InternetSeer [Bot]' 								=> ['InternetSeer', ''],
			'InternetServicesResearch [Bot]' 					=> ['MSR-ISRCCrawler', ''],
			'IPG [Bot]' 										=> ['internet-provider-guenstig.de-Bot', ''],
			'IRLbot [Bot]' 										=> ['http://irl.cs.tamu.edu/crawler', ''],
			'ISC Open Index [Crawler]' 							=> ['ISC Open Index crawler', ''],
			'iScraper [Bot]' 									=> ['IScraperBot/', ''],
			'ISC Systems iRc Search [Bot]' 						=> ['ISC Systems iRc Search', ''],
			'Iudex [Bot]' 										=> ['+http://gravitext.com/iudex/', ''],
			'Java [BadBot]' 									=> ['Java/', ''],
			'Java1 [Bot]' 										=> ['Java/1', ''],
			'JCheckLinks [Linkcheck]' 							=> ['JCheckLinks', ''],
			'JetBrains Omea Reader [Bot]' 						=> ['Omea', ''],
			'JikeSpider [Bot]' 									=> ['JikeSpider', ''],
			'JS-Kit [Bot]' 										=> ['JS-Kit URL Resolver', ''],
			'JustSystems [Crawler]' 							=> ['JUST-CRAWLER', ''],
			'Jyxo [Bot]' 										=> ['Jyxobot', ''],
			'Kalooga [Bot]' 									=> ['Kalooga', ''],
			'Karlsruhe Institute of Technology [Bot]' 			=> ['KIT webcrawler', ''],
			'Keywen Encyclopedia [Bot]' 						=> ['EasyDL', ''],
			'Keywen Encyclopedia Links [Bot]' 					=> ['KeywenBot', ''],
			'Kilomonkey [Bot]' 									=> ['kilomonkey', ''],
			'KindSight [Bot]' 									=> ['KSCrawler/Nutch-', ''],
			'Korean ISA [Bot]' 									=> ['checkprivacy.or.kr', ''],
			'Kraehe [Bot]' 										=> ['-DIE-KRAEHE- META-SEARCH-ENGINE/', ''],
			'Kungl. biblioteket [Bot]' 							=> ['kulturarw3', ''],
			'Kvasir [Bot]' 										=> ['Solbot', ''],
			'Larbin [Bot]' 										=> ['larbin_2.6.3', ''],
			'Lemur [Crawler]' 									=> ['Lemur', ''],
			'Lexxe [Bot]' 										=> ['LexxeBot/', ''],
			'libwww script [BadBot]' 							=> ['libwww-perl', ''],
			'Linguee Multi-Lingual [Bot]' 						=> ['Linguee Bot', ''],
			'LinkAlarm [Bot]' 									=> ['LinkAlarm', ''],
			'Linkdex [Bot]' 									=> ['linkdex', ''],
			'LinkedIn [Bot]' 									=> ['LinkedIn/', ''],
			'LinkLint [Bot]' 									=> ['LinkLint', ''],
			'LinkNZ [Bot]' 										=> ['linknzbot', ''],
			'LinkWalker [Bot]' 									=> ['LinkWalker', ''],
			'Liquida [Spider]' 									=> ['Liquida Spider', ''],
			'LiveJournal [Bot]' 								=> ['LiveJournal', ''],
			'LongURL [Checker]' 								=> ['LongURL API', ''],
			'Lookseek [Bot]' 									=> ['Seeker', ''],
			'Looksmart [Bot]' 									=> ['MantraAgent', ''],
			'Luzaki.org [Bot]' 									=> ['Luzaki', ''],
			'L.webis [Crawler]' 								=> ['L.webis', ''],
			'Lycos [Bot]' 										=> ['Lycos', ''],
			'Lycos [Spider]' 									=> ['Lycos_Spider_', ''],
			'Lycosa [BadBot]' 									=> ['LYCOSA', ''],
			'Mail.ru [Bot]' 									=> ['Mail.RU', ''],
			'Marvin Medhunt [Bot]' 								=> ['Marvin', ''],
			'McAfee Expand [Bot]' 								=> ['MFE_expand', ''],
			'McSeek [Bot]' 										=> ['powered by www.McSeek.de', ''],
			'Megaglobe [Bot]' 									=> ['Megaglobe', ''],
			'Megaproxy [Bot]' 									=> ['ProxyOS', ''],
			'MergeFlow [Bot]' 									=> ['MergeFlow', ''],
			'Metadata Labs [Crawler]' 							=> ['MLBot', ''],
			'Metaspinner [Bot]' 								=> ['Metaspinner', ''],
			'MetaURI [Bot]' 									=> ['MetaURI API/', ''],
			'Microsoft Academic Search [Bot]' 					=> ['librabot', ''],
			'Microsoft AdCenter [Bot]' 							=> ['MSNPTC/', ''],
			'Microsoft Bing/WinHttp [Bot]' 						=> ['WinHttp', ''],
			'Microsoft Research [Bot]' 							=> ['MSRBOT', ''],
			'Mirago [Bot]' 										=> ['HeinrichderMiragoRobot (', ''],
			'Mirago Test [Bot]' 								=> ['Mirago-Test-Robot', ''],
			'MirarSearch [Bot]' 								=> ['Mirar Search Indexing Agent', ''],
			'MixCat [Bot]' 										=> ['Mixcat Crawler', ''],
			'MMSWeb [Bot]' 										=> ['http://www.mmsweb.at/bot.html', ''],
			'Mojeek [Bot]' 										=> ['MojeekBot', ''],
			'MOMspider [Spider]' 								=> ['MOMspider', ''],
			'MoPilot [Spider]' 									=> ['w@pSpider', ''],
			'Moreover [Bot]' 									=> ['Moreoverbot', ''],
			'Morfeo [Bot]' 										=> ['holmes', ''],
			'MP3-Bot [Bot]' 									=> ['MP3-Bot', ''],
			'MSIEcrawler [Crawler]' 							=> ['msiecrawler', ''],
			'MSN Mobile [Bot]' 									=> ['MSMOBOT', ''],
			'Munax [Bot]' 										=> ['', '82.99.30'],
			'MWI [Bot]' 										=> ['MWI-UCE-Checker', ''],
			'MyFamily [Bot]' 									=> ['MyFamilyBot', ''],
			'Mylinea [Bot]' 									=> ['Mylinea', ''],
			'NationalDirectory [Bot]' 							=> ['NDSpider', ''],
			'Naver [Bot]' 										=> ['Yeti', ''],
			'Naver2 [Bot]' 										=> ['NaverBot', ''],
			'Naver3 [Bot]' 										=> ['nhnbot@naver.com', ''],
			'NerdByNature [Bot]' 								=> ['NerdByNature.Bot', ''],
			'Netcraft Survey [Bot]' 							=> ['NetcraftSurveyAgent/', ''],
			'Netcraft WebServerSurvey [Bot]' 					=> ['Netcraft Web Server Survey', ''],
			'netEstate [Crawler]' 								=> ['+http://www.sengine.info/', ''],
			'NetMechanic [Bot]' 								=> ['NetMechanic', ''],
			'NetNewsWire [RSS]' 								=> ['NetNewsWire/', ''],
			'NetResearchServer [Bot]' 							=> ['NetResearchServer/', ''],
			'NetSeer [Bot]' 									=> ['NetSeer', ''],
			'NetSprint [Bot]' 									=> ['NewspointBot', ''],
			'Netvibes [Bot]' 									=> ['Netvibes', ''],
			'NewsFire [RSS]' 									=> ['NewsFire/', ''],
			'NewzCrawler [RSS]' 								=> ['NewzCrawler/', ''],
			'NextLinks [Bot]' 									=> ['findlinks', ''],
			'Nextopia [Bot]' 									=> ['Nextopia', ''],
			'Nextthing [Bot]' 									=> ['nextthing.org', ''],
			'NG-Search [Bot]' 									=> ['NG-Search/', ''],
			'Nigma [Crawler]' 									=> ['Nigma', ''],
			'Nimble [Crawler]' 									=> ['NimbleCrawler', ''],
			'NING [Bot]' 										=> ['NING/', ''],
			'Njuice [Bot]' 										=> ['NjuiceBot', ''],
			'Nokodo [Bot]' 										=> ['NokodoBot', ''],
			'Noxtrum [Bot]' 									=> ['noxtrumbot', ''],
			'Nutch/CVS [Bot]' 									=> ['NutchCVS/', ''],
			'ObjectsSearch [Bot]' 								=> ['ObjectsSearch', ''],
			'oBot Brand Protection [Bot]' 						=> ['; oBot)', ''],
			'Ocelli [Bot]' 										=> ['Ocelli/', ''],
			'Okidoki [Bot]' 									=> ['OkidokiBot/', ''],
			'Omgili [Bot]' 										=> ['omgilibot', ''],
			'OmniExplorer [Bot]' 								=> ['OmniExplorer_Bot/', ''],
			'OneRiot [Bot]' 									=> ['OneRiot', ''],
			'Onet [Bot]' 										=> ['OnetSzukaj', ''],
			'Onet.pl [Bot]' 									=> ['Onet.pl', ''],
			'Openfind [Bot]' 									=> ['openfind.com', ''],
			'Openfind 2 [Bot]' 									=> ['Openbot', ''],
			'Orange [Spider]' 									=> ['OrangeSpider', ''],
			'OrangeAsk [Bot]' 									=> ['OrangeAskBot', ''],
			'Orbiter [Bot]' 									=> ['http://www.dailyorbit.com/bot.htm', ''],
			'over-zealus [Bot]' 								=> ['Opera/5.0 (Windows NT 4.0;US)', ''],
			'OWS [Bot]' 										=> ['owsBot', ''],
			'Oxide [Bot]' 										=> ['Anthill', ''],
			'Pagebull [Bot]' 									=> ['Pagebull', ''],
			'panscient [Spider]' 								=> ['panscient.com', ''],
			'PaperLi [Bot]' 									=> ['PaperLiBot/', ''],
			'Patsearch [Bot]' 									=> ['Patwebbot', ''],
			'Paxle [Bot]' 										=> ['PaxleFramework', ''],
			'PEERbot [Bot]' 									=> ['PEERbot', ''],
			'PHP [Toolkit]' 									=> ['PHP/', ''],
			'PHP version tracker [Bot]' 						=> ['PHP version tracker', ''],
			'phpBB-SEO [Bot]' 									=> ['phpBB-SEO', ''],
			'Picosearch [Bot]' 									=> ['PicoSearch', ''],
			'Pingdom [Bot]' 									=> ['Pingdom', ''],
			'Pipeline [Bot]' 									=> ['pipeLiner', ''],
			'PlantyNet [Bot]' 									=> ['PlantyNet_WebRobot_V', ''],
			'Polybot [Bot]' 									=> ['polybot', ''],
			'Popdex [Bot]' 										=> ['Popdexter', ''],
			'PostPost [Crawler]'			 					=> ['PostPost/', ''],
			'PostRank [Bot]' 									=> ['PostRank/', ''],
			'Powermarks [Bot]' 									=> ['Powermarks/', ''],
			'Powerset [Bot]' 									=> ['zermelo', ''],
			'Proximic [Bot]' 									=> ['proximic', ''],
			'PycURL [Bot]' 										=> ['PycURL/', ''],
			'Python HTTP [Bot]' 								=> ['Python-httplib2/', ''],
			'Python URL fetcher [Bot]' 							=> ['Python-urllib/', ''],
			'Qango [Bot]' 										=> ['Qango', ''],
			'Qirina Hurdler [Bot]' 								=> ['Qirina Hurdler', ''],
			'Quepasa [Bot]' 									=> ['QuepasaCreep', ''],
			'Radian6 [Bot]' 									=> ['radian6', ''],
			'Radian6 Comments [Bot]' 							=> ['R6_CommentReader', ''],
			'Radian6 FeedFetcher [Bot]' 						=> ['R6_FeedFetcher', ''],
			'Radian6 Primer [Bot]' 								=> ['R6_Primer', ''],
			'Rambler.ru [Bot]' 									=> ['StackRambler', ''],
			'REAP Project [Bot]' 								=> ['REAP-crawler', ''],
			'ReciprocalLinksChecker [Bot]' 						=> ['reciprocal links checker', ''],
			'Regios [Bot]' 										=> ['+http://www.regios.org', ''],
			'RIX [Bot]' 										=> ['RixBot', ''],
			'Robot Genius [Bot]' 								=> ['robotgenius', ''],
			'Robots.txt Validator [Bot]' 						=> ['Robots.txt Validator', ''],
			'Robozilla [Bot]' 									=> ['Robozilla/', ''],
			'RPonline [Bot]' 									=> ['BlitzBOT', ''],
			'RSS-Reader [RSS]' 									=> ['RSS-Reader', ''],
			'RSS-SPIDER [RSS]' 									=> ['RSS-SPIDER', ''],
			'Ruby [Bot]' 										=> ['Ruby/', ''],
			'SAI Crawler [Bot]' 								=> ['sai-crawler', ''],
			'ScoutJet [Bot]' 									=> ['ScoutJet', ''],
			'Scribd [Bot]' 										=> ['ScribdReader/', ''],
			'ScrubTheWeb [Bot]' 								=> ['Scrubby', ''],
			'Scumbot [Bot]' 									=> ['Scumbot/', ''],
			'Search 17 [Bot]' 									=> ['Search17Bot', ''],
			'Searchalot [Bot]' 									=> ['SEARCHALOT', ''],
			'Searcharoo [Bot]' 									=> ['Searcharoo', ''],
			'SearchByUSA [Bot]' 								=> ['SearchByUsa', ''],
			'Search.ch [Bot]' 									=> ['search.ch', ''],
			'SearchHippo [Bot]' 								=> ['Fluffy the spider', ''],
			'SearchMe [Bot]' 									=> ['searchme', ''],
			'Searchme Charlotte [Bot]' 							=> ['Charlotte', ''],
			'SearchScout [Bot]' 								=> ['ClariaBot', ''],
			'SearchUK [Bot]' 									=> ['MegaSheep', ''],
			'SecureComputing [Bot]' 							=> ['page_prefetcher', ''],
			'Seekport [Bot]' 									=> ['Seekbot/', ''],
			'SEOkicks [Bot]' 									=> ['SEOkicks', ''],
			'SEOprofiler [Bot]' 								=> ['spbot', ''],
			'Setooz [Bot]' 										=> ['oozbot', ''],
			'Seznam [Bot]' 										=> ['SeznamBot', ''],
			'Seznam Screenshot [Bot]' 							=> ['Seznam screenshot-generator', ''],
			'Sharegloo [Bot]' 									=> ['sharegloo', ''],
			'Shelob [SpamBot]' 									=> ['shelob', ''],
			'ShopWiki [Bot]' 									=> ['ShopWiki/1.0', ''],
			'Shoula! [Bot]' 									=> ['Shoula', ''],
			'SimilarPages [Bot]' 								=> ['SimilarPages', ''],
			'SimplePie [Bot]' 									=> ['SimplePie', ''],
			'Simply [Bot]' 										=> ['Argus', ''],
			'Singingfish Asterias [Bot]' 						=> ['Asterias', ''],
			'SISTRIX [Crawler]' 								=> ['SISTRIX Crawler', ''],
			'SiteBot [Bot]' 									=> ['sitebot', ''],
			'Site Valet [Bot]' 									=> ['Valet', ''],
			'Sitesearch.ca [Bot]' 								=> ['Reaper', ''],
			'SiteSearcher [Bot]' 								=> ['SSearch', ''],
			'SiteSell [Bot]' 									=> ['SBIder', ''],
			'SiteSpider [Bot]' 									=> ['SiteSpider', ''],
			'SitiDi [Bot]' 										=> ['SitiDiBot', ''],
			'Skaffe [Bot]' 										=> ['Skampy', ''],
			'Skizzle [Bot]' 									=> ['SKIZZLE', ''],
			'Snap Shots [Bot]' 									=> ['Snapbot', ''],
			'Snap Shots Preview [Bot]' 							=> ['SnapPreviewBot', ''],
			'Snoopy [Bot]' 										=> ['Snoopy', ''],
			'SocialMedia [Bot]' 								=> ['SocialMediaBot/', ''],
			'SocialSearcher [Bot]' 								=> ['SocialSearcher', ''],
			'Sogou [Spider]' 									=> ['Sogou', ''],
			'SoMusical! [Bot]' 									=> ['MusicWalker', ''],
			'Sonic [SpamBot]' 									=> ['EmailSiphon', ''],
			'Soso [Spider]' 									=> ['Sosospider', ''],
			'Soso Image [Spider]' 								=> ['Sosoimagespider', ''],
			'Spinn3r [Bot]' 									=> ['Spinn3r', ''],
			'Startpagina [Bot]' 								=> ['Startpagina', ''],
			'Suchen.de [Bot]' 									=> ['suchen.de', ''],
			'suchpad [Bot]' 									=> ['http://www.suchpad.de/bot/', ''],
			'Suggy [Crawler]' 									=> ['suggybot ', ''],
			'Summify [Bot]' 									=> ['Summify/', ''],
			'Superfeedr [Bot]' 									=> ['Superfeedr', ''],
			'DomainTools SurveyBot [Bot]' 						=> ['SurveyBot', ''],
			'Susie [Sync]' 										=> ['!Susie', ''],
			'Sygol [Bot]' 										=> ['SygolBot', ''],
			'Synthesio [Bot]' 									=> ['Synthesio', ''],
			'Synoo [Bot]' 										=> ['SynooBot/', ''],
			'Szukacz [Bot]'										=> ['szukacz', ''],
			'TalkTalk [Bot]' 									=> ['http://www.talktalk.co.uk/', ''],
			'Tbot [Bot]' 										=> ['Tbot/', ''],
			'The Best Links [Bot]' 								=> ['TheBestLinks.com', ''],
			'Thumbshots [Capture]' 								=> ['thumbshots-de-Bot', ''],
			'TinEye [Crawler]' 									=> ['TinEye', ''],
			'TipTop [Bot]' 										=> ['http://feeltiptop.com', ''],
			'Topsy [Bot]' 										=> ['Butterfly', ''],
			'Trendiction [Bot]' 								=> ['trendictionbot', ''],
			'Tribal Fusion [Bot]' 								=> ['expo9', ''],
			'Trovatore [Bot]' 									=> ['IlTrovatore', ''],
			'TweetedTimes [Bot]' 								=> ['TweetedTimes Bot/', ''],
			'Tweetmeme [Bot]' 									=> ['TweetmemeBot', ''],
			'Twenga [Bot]' 										=> ['TwengaBot', ''],
			'Twikle [Bot]' 										=> ['Twikle/', ''],
			'Twingly [Bot]' 									=> ['Twingly Recon', ''],
			'Twisted PageGetter [Bot]' 							=> ['Twisted PageGetter', ''],
			'Twitmatic [Bot]' 									=> ['twitmatic', ''],
			'Twitter [Bot]' 									=> ['Twitterbot/', ''],
			'TwitterFeed [Bot]' 								=> ['TwitterFeed', ''],
			'TwitterJobSearch [Bot]' 							=> ['TwitterJobSearch.com', ''],
			'Twitturly [Bot]' 									=> ['Twitturly', ''],
			'Twitturls [Bot]' 									=> ['Twitturls', ''],
			'Twotrees [Bot]' 									=> ['Willow Internet Crawler', ''],
			'Unister [Bot]' 									=> ['UnisterBot', ''],
			'Universal Feed Parser [Bot]' 						=> ['UniversalFeedParser', ''],
			'urlresolver [Bot]' 								=> ['urlresolver', ''],
			'Vagabondo [Agent]' 								=> ['http://webagent.wise-guys.nl/', ''],
			'vBSEO [Bot]' 										=> ['vBSEO', ''],
			'vectra-mods [BadBot]' 								=> ['','212.227.101.211'],
			'Visvo [Bot]' 										=> ['VisBot', ''],
			'Voila [Bot]' 										=> ['VoilaBot', ''],
			'VSW [Crawler]' 									=> ['VSWCrawler', ''],
			'VSW Convera [Crawler]' 							=> ['ConveraCrawler', ''],
			'VSW ERA [Crawler]' 								=> ['EraCrawler', ''],
			'W3C CSS Validator [Validator]' 					=> ['W3C_CSS_Validator', ''],
			'W3C Feed Validator [Validator]' 					=> ['FeedValidator', ''],
			'W3C Markup Validator [Validator]' 					=> ['W3C_Validator', ''],
			'W3C P3P Validator [Validator]' 					=> ['P3P Validator', ''],
			'Walhello [Bot]' 									=> ['appie', ''],
			'Web2PDF [Converter]' 								=> ['web2pdfconvert.com', ''],
			'Web Site Optimization [Bot]' 						=> ['', '67.225.164.12'],
			'WebAlta [Bot]' 									=> ['WebAlta', ''],
			'webcollage [Bot]' 									=> ['webcollage', ''],
			'WebCorp [Bot]' 									=> ['WebCorp', ''],
			'WebmasterCoffee [Bot]' 							=> ['WebmasterCoffee/', ''],
			'Webmeasurement [Bot]' 								=> ['webmeasurement-bot', ''],
			'Wget [SpamBot]' 									=> ['Wget', ''],
			'Whitevector [Crawler]' 							=> ['Whitevector Crawler', ''],
			'Wikia URL Routine [Bot]' 							=> ['php_url_routine', ''],
			'Wikianswers [Bot]' 								=> ['GrubNG', ''],
			'WikiDo [Crawler]' 									=> ['WikiDo', ''],
			'Wikiwix [Bot]' 									=> ['wikiwix-bot-3.0', ''],
			'WillyFogg [Bot]' 									=> ['WillyBot', ''],
			'WiseGuys [Bot]' 									=> ['Vagabondo', ''],
			'WiseNut [Bot]' 									=> ['http://www.WISEnutbot.com', ''],
			'WissenOnline [Bot]' 								=> ['WissenOnline-Bot', ''],
			'Worio [Bot]' 										=> ['+http://worio.com', ''],
			'WWWeasel [Bot]' 									=> ['WWWeasel Robot v', ''],
			'Xaldon [Spider]' 									=> ['Xaldon WebSpider', ''],
			'XML Sitemap Generator [Bot]' 						=> ['XML Sitemaps Generator', ''],
			'YahooCacheSystem [Bot]' 							=> ['YahooCacheSystem', ''],
			'Yahoo China [Bot]' 								=> ['Slurp China', ''],
			'Yahoo Japan [Bot]' 								=> ['yahoo.co.jp', ''],
			'Yahoo Pipes [Bot]' 								=> ['Yahoo Pipes', ''],
			'Yahoo Search Marketing [Bot]' 						=> ['YahooYSMcm', ''],
			'Yahoo! Blogs [Bot]' 								=> ['Yahoo-Blogs', ''],
			'Yahoo! Feed Seeker [RSS]' 							=> ['YahooFeedSeeker', ''],
			'Yahoo! Mindset [Bot]' 								=> ['Yahoo! Mindset', ''],
			'Yahoo! Search Marketing [Crawler]' 				=> ['crawlx', ''],
			'Yahoo! SpiderMan [Bot]' 							=> ['SpiderMan', ''],
			'Yahoo! Test [Bot]' 								=> ['Yahoo-Test', ''],
			'Yahoo! VerticalCrawler [Bot]'			 			=> ['Yahoo-VerticalCrawler', ''],
			'Yandex [Bot]' 										=> ['Yandex', ''],
			'Yandex Images [Bot]' 								=> ['YandexImages/', ''],
			'Yandex Direct [Bot]' 								=> ['YandexDirect/', ''],
			'Yanga [Bot]' 										=> ['Yanga', ''],
			'Yebol [Bot]' 										=> ['YebolBot', ''],
			'Yesup [Bot]' 										=> ['YesupBot', ''],
			'Yigg [Bot]' 										=> ['', '188.138.56.55'],
			'Yodao [Bot]' 										=> ['YodaoBot', ''],
			'Youdao [Bot]' 										=> ['YoudaoBot', ''],
			'Zerx [Bot]' 										=> ['zerxbot/', ''],
		];

		if (!function_exists('user_add'))
		{
			include($this->phpbb_root_path . 'includes/functions_user.' . $this->php_ext);
		}

		foreach ($bots as $bot_name => $bot_ary)
		{
			$user_row = [
				'user_type'				=> USER_IGNORE,
				'group_id'				=> $group_id,
				'username'				=> $bot_name,
				'user_regdate'			=> time(),
				'user_password'			=> '',
				'user_colour'			=> '9E8DA7',
				'user_email'			=> '',
				'user_lang'				=> $this->config['default_lang'],
				'user_style'			=> 1,
				'user_timezone'			=> 0,
				'user_allow_massemail'	=> 0,
			];

			$user_id = user_add($user_row);

			if ($user_id)
			{
				$sql = 'INSERT INTO ' . BOTS_TABLE . ' ' . $this->db->sql_build_array('INSERT', array(
					'bot_active'	=> 1,
					'bot_name'		=> $bot_name,
					'user_id'		=> $user_id,
					'bot_agent'		=> $bot_ary[0],
					'bot_ip'		=> $bot_ary[1])
				);
				$this->db->sql_query($sql);
			}
		}
	}

	public function revert_data()
	{
		return [
			['custom', [[$this, 'delete_bots']]],
		];
	}

	public function delete_bots()
	{
		$bots_updates = [
			'123spider [Spider]' 								=> false,
			'1klik.dk [Bot]' 									=> false,
			'24spider [Spider]' 								=> false,
			'2Bone Link Checker [Bot]' 							=> false,
			'50.nu [Bot]' 										=> false,
			'80legs [Bot]' 										=> false,
			'ABACHO [Bot]' 										=> false,
			'ABCdatos [Bot]' 									=> false,
			'Aberja [Bot]'										=> false,
			'Abonti [Bot]' 										=> false,
			'About [Bot]' 										=> false,
			'AboutUs [Bot]' 									=> false,
			'Acoon [Bot]' 										=> false,
			'Accelobot [Bot]' 									=> false,
			'Accoona [Bot]' 									=> false,
			'Accoona AI [Agent]' 								=> false,
			'ActiveBookmark [Bot]' 								=> false,
			'AddThis [Bot]' 									=> false,
			'AEIWI [Bot]' 										=> false,
			'Aesop [Bot]' 										=> false,
			'Agada [Bot]' 										=> false,
			'AgHaven [Bot]' 									=> false,
			'Ahrefs [Bot]' 										=> false,
			'AideRSS [RSS]' 									=> false,
			'aiHit [Bot]' 										=> false,
			'AISearch [Bot]' 									=> false,
			'Aitellu [Bot]' 									=> false,
			'Alkaline [Bot]' 									=> false,
			'Allesklar [Bot]' 									=> false,
			'Altresium [Bot]' 									=> false,
			'Amazon Elastic Cloud [Crawler]' 					=> false,
			'Amfibi [Bot]' 										=> false,
			'Amidalla [Bot]' 									=> false,
			'Aport [Bot]' 										=> false,
			'Apple Feedreader [Bot]' 							=> false,
			'Apple Syndication [Bot]' 							=> false,
			'Arachnid Crawler [Bot]' 							=> false,
			'Arexera [Bot]' 									=> false,
			'Arianna [Bot]' 									=> false,
			'ASPseek [Bot]' 									=> false,
			'Async Http Client [Bot]' 							=> false,
			'Attentio [Bot]' 									=> false,
			'August [BadBot]' 									=> false,
			'AustLII [Bot]' 									=> false,
			'Axada [Bot]' 										=> false,
			'Babaloo [Bot]' 									=> false,
			'Backtype [Bot]' 									=> false,
			'Balihoo [Bot]' 									=> false,
			'BDProtect [Bot]' 									=> false,
			'Become [Bot]' 										=> false,
			'Become.com [Bot]' 									=> false,
			'BeetleBot [Bot]' 									=> false,
			'Begun.ru [Bot]' 									=> false,
			'Bemash [Bot]' 										=> false,
			'Best of the Web [Spider]' 							=> false,
			'Big Brother [Bot]' 								=> false,
			'BigClique [Bot]' 									=> false,
			'Bim Zone [Bot]' 									=> false,
			'Bintellibot [Bot]' 								=> false,
			'Biru [Bot]' 										=> false,
			'Bit.ly [Bot]' 										=> false,
			'BitTorrent [Bot]' 									=> false,
			'Bixo Labs [Bot]' 									=> false,
			'Blekkobot [Bot]' 									=> false,
			'BlogDex [Bot]' 									=> false,
			'Bloglines [Bot]' 									=> false,
			'BlogScope [Bot]' 									=> false,
			'BlogSearch [Bot]' 									=> false,
			'Blue.lu [Bot]' 									=> false,
			'BoardReader [Bot]' 								=> false,
			'Boitho-dc [Bot]' 									=> false,
			'Bookdog [Bot]' 									=> false,
			'Boston Project [SpamBot]' 							=> false,
			'Brandwatch [Bot]' 									=> false,
			'Brandwatch Jakarta [Bot]' 							=> false,
			'Bunnybot [Bot]' 									=> false,
			'BuiBui [Bot]' 										=> false,
			'Business.com [Bot]' 								=> false,
			'BuzzRanking [Bot]' 								=> false,
			'CanadianContent [Bot]' 							=> false,
			'Cazoodle [Bot]' 									=> false,
			'Ceron News [Bot]' 									=> false,
			'Check Favorites [Bot]' 							=> false,
			'Checkbot [Bot]' 									=> false,
			'Checklinks [Linkcheck]' 							=> false,
			'CheckWeb [Bot]' 									=> false,
			'Cipinet [Bot]' 									=> false,
			'Cityreview [Bot]' 									=> false,
			'Claymont [Bot]' 									=> false,
			'cligoo [Bot]' 										=> false,
			'Clush [Bot]' 										=> false,
			'CMS Worldmap [Bot]' 								=> false,
			'Cometrics [Bot]' 									=> false,
			'CommandCom [Bot]' 									=> false,
			'CommonCrawl [Bot]' 								=> false,
			'Conpilot [Bot]' 									=> false,
			'Consumers Union [Bot]' 							=> false,
			'ContextWeb [Bot]' 									=> false,
			'Cosmix [Bot]' 										=> false,
			'Cosmoty [Bot]' 									=> false,
			'CRAWL-E [Crawler]' 								=> false,
			'Crawler Search [Crawler]' 							=> false,
			'Crawler0.1 [Crawler]' 								=> false,
			'CreativeCommons [Bot]' 							=> false,
			'Crowsnest [Bot]' 									=> false,
			'Cruiser [Bot]' 									=> false,
			'Crystal Semantics [Bot]' 							=> false,
			'Cuil [Bot]' 										=> false,
			'curl [Bot]' 										=> false,
			'Custo [Bot]' 										=> false,
			'Cyber Spyder Link Test [Bot]' 						=> false,
			'CyberPatrol [Bot]' 								=> false,
			'Cydral [Bot]' 										=> false,
			'Cynthia [Bot]' 									=> false,
			'DailyOrbit [Bot]' 									=> false,
			'DailyPerfect [Bot]' 								=> false,
			'Daum [Bot]' 										=> false,
			'Dead Link Check [Bot]' 							=> false,
			'DeepIndex [Bot]' 									=> false,
			'DepSpid [Bot]' 									=> false,
			'Desert Realm [Bot]' 								=> false,
			'Die Blinde Kuh [Bot]' 								=> false,
			'Diffbot [Bot]' 									=> false,
			'Diggit! [Bot]' 									=> false,
			'DiscoveryEngine [Bot]' 							=> false,
			'Ditto [Spider]' 									=> false,
			'DLE_Spider Xrumer [SpamBot]' 						=> false,
			'DotNetDotCom.org [Bot]' 							=> false,
			'Dow Jones Searchbot [Bot]' 						=> false,
			'Dumbfind [Bot]' 									=> false,
			'DZNET [Bot]'										=> false,
			'EasyBib [Bot]' 									=> false,
			'EchO! [Bot]' 										=> false,
			'EliteSys [Bot]' 									=> false,
			'EmailSearch [SpamBot]' 							=> false,
			'embed.ly [Bot]' 									=> false,
			'Enaball [Crawler]' 								=> false,
			'Entireweb Speedy [Spider]' 						=> false,
			'Envolk [Bot]' 										=> false,
			'Eqentia [Bot]' 									=> false,
			'eSobi [Bot]' 										=> false,
			'Esperanza [Bot]' 									=> false,
			'EventMachine [Bot]' 								=> false,
			'Evri [Bot]' 										=> false,
			'Exactseek [Bot]' 									=> false,
			'ExaleadThumbnails [Bot]' 							=> false,
			'Exooba [Crawler]' 									=> false,
			'EXPelite [SpamBot]' 								=> false,
			'Ezooms [Bot]' 										=> false,
			'Facebook [Bot]' 									=> false,
			'Facebook Scraper [Bot]' 							=> false,
			'FairShare [Bot]' 									=> false,
			'FakeWordpress [SpamBot]' 							=> false,
			'Fast Crawler Gold [Bot]' 							=> false,
			'FAST FirstPage [Bot]' 								=> false,
			'FAST MetaWeb [Crawler]'							=> false,
			'Fast PartnerSite [Crawler]' 						=> false,
			'Favorstar [Bot]'									=> false,
			'FeedDemon [Bot]' 									=> false,
			'Feedreader [Bot]' 									=> false,
			'Filangy [Bot]' 									=> false,
			'Findexa [Crawler]' 								=> false,
			'Fireball [Bot]' 									=> false,
			'FLR Treato [Bot]' 									=> false,
			'Focuseek [Bot]' 									=> false,
			'Followsite [Bot]' 									=> false,
			'Freenewsmobile [Bot]' 								=> false,
			'FULLSearch [Bot]' 									=> false,
			'Funnelback [Bot]' 									=> false,
			'Furl [Bot]' 										=> false,
			'FyberSearch [Spider]' 								=> false,
			'g2 [Crawler]' 										=> false,
			'Gais [Bot]' 										=> false,
			'Galaxy [Bot]' 										=> false,
			'Garlik [Bot]' 										=> false,
			'GBSpider [Spider]' 								=> false,
			'Geigerzaehler [Bot]' 								=> false,
			'genie [Bot]' 										=> false,
			'GeoBot [Bot]' 										=> false,
			'GeoHasher [Bot]' 									=> false,
			'Geona [Bot]' 										=> false,
			'Gigablast [Bot]' 									=> false,
			'GingerCrawler [Bot]' 								=> false,
			'Girafa [Bot]' 										=> false,
			'Gnip [Bot]' 										=> false,
			'GoForIt [Bot]' 									=> false,
			'GoGuides [Bot]' 									=> false,
			'Google AppEngine' 									=> false,
			'Google FeedBurner [Bot]' 							=> false,
			'Google Search Appliance [Crawler]' 				=> false,
			'Google Sitemap [Bot]' 								=> false,
			'Google Web Preview [Bot]' 							=> false,
			'Google Wireless Transcoder [Bot]' 					=> false,
			'goo ichiro [Crawler]' 								=> false,
			'Gooro [Spider]' 									=> false,
			'Guruji [Bot]' 										=> false,
			'Guruji Image [Bot]' 								=> false,
			'Hailoo [Bot]' 										=> false,
			'Haodewap [Bot]' 									=> false,
			'Hatena Antenna [Bot]' 								=> false,
			'hbtronix [Spider]' 								=> false,
			'Heeii [Bot]' 										=> false,
			'HMSEbot [SpamBot]' 								=> false,
			'Hogsearch [Bot]' 									=> false,
			'Homerweb [Bot]' 									=> false,
			'Hoppa! [Bot]' 										=> false,
			'Houxou [Crawler]' 									=> false,
			'HP Web PrintSmart [Bot]' 							=> false,
			'Html Link Validator [Bot]' 						=> false,
			'HTML2JPG [Bot]' 									=> false,
			'HTTrack [Bot]' 									=> false,
			'Huawei Symantec [Spider]' 							=> false,
			'IceRocket [Bot]' 									=> false,
			'IconSurf [Bot]' 									=> false,
			'IIT Bombay [Bot]' 									=> false,
			'Ilse [Bot]' 										=> false,
			'ImageShack [Bot]' 									=> false,
			'Imageshack/Nutch [Bot]' 							=> false,
			'InAGist [Bot]' 									=> false,
			'Indy Library [BadBot]' 							=> false,
			'Infegy [Bot]' 										=> false,
			'INFOmine [Bot]' 									=> false,
			'Information Credibility Criteria Project [Bot]' 	=> false,
			'InfoSeek SideWinder [Crawler]' 					=> false,
			'Inktomi [Bot]' 									=> false,
			'Insuranco [Bot]' 									=> false,
			'Internet Archive [Bot]' 							=> false,
			'Internet Memory [Bot]' 							=> false,
			'InternetSeer [Bot]' 								=> false,
			'InternetServicesResearch [Bot]' 					=> false,
			'IPG [Bot]' 										=> false,
			'IRLbot [Bot]' 										=> false,
			'ISC Open Index [Crawler]' 							=> false,
			'iScraper [Bot]' 									=> false,
			'ISC Systems iRc Search [Bot]' 						=> false,
			'Iudex [Bot]' 										=> false,
			'Java [BadBot]' 									=> false,
			'Java1 [Bot]' 										=> false,
			'JCheckLinks [Linkcheck]' 							=> false,
			'JetBrains Omea Reader [Bot]' 						=> false,
			'JikeSpider [Bot]' 									=> false,
			'JS-Kit [Bot]' 										=> false,
			'JustSystems [Crawler]' 							=> false,
			'Jyxo [Bot]' 										=> false,
			'Kalooga [Bot]' 									=> false,
			'Karlsruhe Institute of Technology [Bot]' 			=> false,
			'Keywen Encyclopedia [Bot]' 						=> false,
			'Keywen Encyclopedia Links [Bot]' 					=> false,
			'Kilomonkey [Bot]' 									=> false,
			'KindSight [Bot]' 									=> false,
			'Korean ISA [Bot]' 									=> false,
			'Kraehe [Bot]' 										=> false,
			'Kungl. biblioteket [Bot]' 							=> false,
			'Kvasir [Bot]' 										=> false,
			'Larbin [Bot]' 										=> false,
			'Lemur [Crawler]' 									=> false,
			'Lexxe [Bot]' 										=> false,
			'libwww script [BadBot]' 							=> false,
			'Linguee Multi-Lingual [Bot]' 						=> false,
			'LinkAlarm [Bot]' 									=> false,
			'Linkdex [Bot]' 									=> false,
			'LinkedIn [Bot]' 									=> false,
			'LinkLint [Bot]' 									=> false,
			'LinkNZ [Bot]' 										=> false,
			'LinkWalker [Bot]' 									=> false,
			'Liquida [Spider]' 									=> false,
			'LiveJournal [Bot]' 								=> false,
			'LongURL [Checker]' 								=> false,
			'Lookseek [Bot]' 									=> false,
			'Looksmart [Bot]' 									=> false,
			'Luzaki.org [Bot]' 									=> false,
			'L.webis [Crawler]' 								=> false,
			'Lycos [Bot]' 										=> false,
			'Lycos [Spider]' 									=> false,
			'Lycosa [BadBot]' 									=> false,
			'Mail.ru [Bot]' 									=> false,
			'Marvin Medhunt [Bot]' 								=> false,
			'McAfee Expand [Bot]' 								=> false,
			'McSeek [Bot]' 										=> false,
			'Megaglobe [Bot]' 									=> false,
			'Megaproxy [Bot]' 									=> false,
			'MergeFlow [Bot]' 									=> false,
			'Metadata Labs [Crawler]' 							=> false,
			'Metaspinner [Bot]' 								=> false,
			'MetaURI [Bot]' 									=> false,
			'Microsoft Academic Search [Bot]' 					=> false,
			'Microsoft AdCenter [Bot]' 							=> false,
			'Microsoft Bing/WinHttp [Bot]' 						=> false,
			'Microsoft Research [Bot]' 							=> false,
			'Mirago [Bot]' 										=> false,
			'Mirago Test [Bot]' 								=> false,
			'MirarSearch [Bot]' 								=> false,
			'MixCat [Bot]' 										=> false,
			'MMSWeb [Bot]' 										=> false,
			'Mojeek [Bot]' 										=> false,
			'MOMspider [Spider]' 								=> false,
			'MoPilot [Spider]' 									=> false,
			'Moreover [Bot]' 									=> false,
			'Morfeo [Bot]' 										=> false,
			'MP3-Bot [Bot]' 									=> false,
			'MSIEcrawler [Crawler]' 							=> false,
			'MSN Mobile [Bot]' 									=> false,
			'Munax [Bot]' 										=> false,
			'MWI [Bot]' 										=> false,
			'MyFamily [Bot]' 									=> false,
			'Mylinea [Bot]' 									=> false,
			'NationalDirectory [Bot]' 							=> false,
			'Naver [Bot]' 										=> false,
			'Naver2 [Bot]' 										=> false,
			'Naver3 [Bot]' 										=> false,
			'NerdByNature [Bot]' 								=> false,
			'Netcraft Survey [Bot]' 							=> false,
			'Netcraft WebServerSurvey [Bot]' 					=> false,
			'netEstate [Crawler]' 								=> false,
			'NetMechanic [Bot]' 								=> false,
			'NetNewsWire [RSS]' 								=> false,
			'NetResearchServer [Bot]' 							=> false,
			'NetSeer [Bot]' 									=> false,
			'NetSprint [Bot]' 									=> false,
			'Netvibes [Bot]' 									=> false,
			'NewsFire [RSS]' 									=> false,
			'NewzCrawler [RSS]' 								=> false,
			'NextLinks [Bot]' 									=> false,
			'Nextopia [Bot]' 									=> false,
			'Nextthing [Bot]' 									=> false,
			'NG-Search [Bot]' 									=> false,
			'Nigma [Crawler]' 									=> false,
			'Nimble [Crawler]' 									=> false,
			'NING [Bot]' 										=> false,
			'Njuice [Bot]' 										=> false,
			'Nokodo [Bot]' 										=> false,
			'Noxtrum [Bot]' 									=> false,
			'Nutch/CVS [Bot]' 									=> false,
			'ObjectsSearch [Bot]' 								=> false,
			'oBot Brand Protection [Bot]' 						=> false,
			'Ocelli [Bot]' 										=> false,
			'Okidoki [Bot]' 									=> false,
			'Omgili [Bot]' 										=> false,
			'OmniExplorer [Bot]' 								=> false,
			'OneRiot [Bot]' 									=> false,
			'Onet [Bot]' 										=> false,
			'Onet.pl [Bot]' 									=> false,
			'Openfind [Bot]' 									=> false,
			'Openfind 2 [Bot]' 									=> false,
			'Orange [Spider]' 									=> false,
			'OrangeAsk [Bot]' 									=> false,
			'Orbiter [Bot]' 									=> false,
			'over-zealus [Bot]' 								=> false,
			'OWS [Bot]' 										=> false,
			'Oxide [Bot]' 										=> false,
			'Pagebull [Bot]' 									=> false,
			'panscient [Spider]' 								=> false,
			'PaperLi [Bot]' 									=> false,
			'Patsearch [Bot]' 									=> false,
			'Paxle [Bot]' 										=> false,
			'PEERbot [Bot]' 									=> false,
			'PHP [Toolkit]' 									=> false,
			'PHP version tracker [Bot]' 						=> false,
			'phpBB-SEO [Bot]' 									=> false,
			'Picosearch [Bot]' 									=> false,
			'Pingdom [Bot]' 									=> false,
			'Pipeline [Bot]' 									=> false,
			'PlantyNet [Bot]' 									=> false,
			'Polybot [Bot]' 									=> false,
			'Popdex [Bot]' 										=> false,
			'PostPost [Crawler]'			 					=> false,
			'PostRank [Bot]' 									=> false,
			'Powermarks [Bot]' 									=> false,
			'Powerset [Bot]' 									=> false,
			'Proximic [Bot]' 									=> false,
			'PycURL [Bot]' 										=> false,
			'Python HTTP [Bot]' 								=> false,
			'Python URL fetcher [Bot]' 							=> false,
			'Qango [Bot]' 										=> false,
			'Qirina Hurdler [Bot]' 								=> false,
			'Quepasa [Bot]' 									=> false,
			'Radian6 [Bot]' 									=> false,
			'Radian6 Comments [Bot]' 							=> false,
			'Radian6 FeedFetcher [Bot]' 						=> false,
			'Radian6 Primer [Bot]' 								=> false,
			'Rambler.ru [Bot]' 									=> false,
			'REAP Project [Bot]' 								=> false,
			'ReciprocalLinksChecker [Bot]' 						=> false,
			'Regios [Bot]' 										=> false,
			'RIX [Bot]' 										=> false,
			'Robot Genius [Bot]' 								=> false,
			'Robots.txt Validator [Bot]' 						=> false,
			'Robozilla [Bot]' 									=> false,
			'RPonline [Bot]' 									=> false,
			'RSS-Reader [RSS]' 									=> false,
			'RSS-SPIDER [RSS]' 									=> false,
			'Ruby [Bot]' 										=> false,
			'SAI Crawler [Bot]' 								=> false,
			'ScoutJet [Bot]' 									=> false,
			'Scribd [Bot]' 										=> false,
			'ScrubTheWeb [Bot]' 								=> false,
			'Scumbot [Bot]' 									=> false,
			'Search 17 [Bot]' 									=> false,
			'Searchalot [Bot]' 									=> false,
			'Searcharoo [Bot]' 									=> false,
			'SearchByUSA [Bot]' 								=> false,
			'Search.ch [Bot]' 									=> false,
			'SearchHippo [Bot]' 								=> false,
			'SearchMe [Bot]' 									=> false,
			'Searchme Charlotte [Bot]' 							=> false,
			'SearchScout [Bot]' 								=> false,
			'SearchUK [Bot]' 									=> false,
			'SecureComputing [Bot]' 							=> false,
			'Seekport [Bot]' 									=> false,
			'SEOkicks [Bot]' 									=> false,
			'SEOprofiler [Bot]' 								=> false,
			'Setooz [Bot]' 										=> false,
			'Seznam [Bot]' 										=> false,
			'Seznam Screenshot [Bot]' 							=> false,
			'Sharegloo [Bot]' 									=> false,
			'Shelob [SpamBot]' 									=> false,
			'ShopWiki [Bot]' 									=> false,
			'Shoula! [Bot]' 									=> false,
			'SimilarPages [Bot]' 								=> false,
			'SimplePie [Bot]' 									=> false,
			'Simply [Bot]' 										=> false,
			'Singingfish Asterias [Bot]' 						=> false,
			'SISTRIX [Crawler]' 								=> false,
			'SiteBot [Bot]' 									=> false,
			'Site Valet [Bot]' 									=> false,
			'Sitesearch.ca [Bot]' 								=> false,
			'SiteSearcher [Bot]' 								=> false,
			'SiteSell [Bot]' 									=> false,
			'SiteSpider [Bot]' 									=> false,
			'SitiDi [Bot]' 										=> false,
			'Skaffe [Bot]' 										=> false,
			'Skizzle [Bot]' 									=> false,
			'Snap Shots [Bot]' 									=> false,
			'Snap Shots Preview [Bot]' 							=> false,
			'Snoopy [Bot]' 										=> false,
			'SocialMedia [Bot]' 								=> false,
			'SocialSearcher [Bot]' 								=> false,
			'Sogou [Spider]' 									=> false,
			'SoMusical! [Bot]' 									=> false,
			'Sonic [SpamBot]' 									=> false,
			'Soso [Spider]' 									=> false,
			'Soso Image [Spider]' 								=> false,
			'Spinn3r [Bot]' 									=> false,
			'Startpagina [Bot]' 								=> false,
			'Suchen.de [Bot]' 									=> false,
			'suchpad [Bot]' 									=> false,
			'Suggy [Crawler]' 									=> false,
			'Summify [Bot]' 									=> false,
			'Superfeedr [Bot]' 									=> false,
			'DomainTools SurveyBot [Bot]' 						=> false,
			'Susie [Sync]' 										=> false,
			'Sygol [Bot]' 										=> false,
			'Synthesio [Bot]' 									=> false,
			'Synoo [Bot]' 										=> false,
			'Szukacz [Bot]'										=> false,
			'TalkTalk [Bot]' 									=> false,
			'Tbot [Bot]' 										=> false,
			'The Best Links [Bot]' 								=> false,
			'Thumbshots [Capture]' 								=> false,
			'TinEye [Crawler]' 									=> false,
			'TipTop [Bot]' 										=> false,
			'Topsy [Bot]' 										=> false,
			'Trendiction [Bot]' 								=> false,
			'Tribal Fusion [Bot]' 								=> false,
			'Trovatore [Bot]' 									=> false,
			'TweetedTimes [Bot]' 								=> false,
			'Tweetmeme [Bot]' 									=> false,
			'Twenga [Bot]' 										=> false,
			'Twikle [Bot]' 										=> false,
			'Twingly [Bot]' 									=> false,
			'Twisted PageGetter [Bot]' 							=> false,
			'Twitmatic [Bot]' 									=> false,
			'Twitter [Bot]' 									=> false,
			'TwitterFeed [Bot]' 								=> false,
			'TwitterJobSearch [Bot]' 							=> false,
			'Twitturly [Bot]' 									=> false,
			'Twitturls [Bot]' 									=> false,
			'Twotrees [Bot]' 									=> false,
			'Unister [Bot]' 									=> false,
			'Universal Feed Parser [Bot]' 						=> false,
			'urlresolver [Bot]' 								=> false,
			'Vagabondo [Agent]' 								=> false,
			'vBSEO [Bot]' 										=> false,
			'vectra-mods [BadBot]' 								=> false,
			'Visvo [Bot]' 										=> false,
			'Voila [Bot]' 										=> false,
			'VSW [Crawler]' 									=> false,
			'VSW Convera [Crawler]' 							=> false,
			'VSW ERA [Crawler]' 								=> false,
			'W3C CSS Validator [Validator]' 					=> false,
			'W3C Feed Validator [Validator]' 					=> false,
			'W3C Markup Validator [Validator]' 					=> false,
			'W3C P3P Validator [Validator]' 					=> false,
			'Walhello [Bot]' 									=> false,
			'Web2PDF [Converter]' 								=> false,
			'Web Site Optimization [Bot]' 						=> false,
			'WebAlta [Bot]' 									=> false,
			'webcollage [Bot]' 									=> false,
			'WebCorp [Bot]' 									=> false,
			'WebmasterCoffee [Bot]' 							=> false,
			'Webmeasurement [Bot]' 								=> false,
			'Wget [SpamBot]' 									=> false,
			'Whitevector [Crawler]' 							=> false,
			'Wikia URL Routine [Bot]' 							=> false,
			'Wikianswers [Bot]' 								=> false,
			'WikiDo [Crawler]' 									=> false,
			'Wikiwix [Bot]' 									=> false,
			'WillyFogg [Bot]' 									=> false,
			'WiseGuys [Bot]' 									=> false,
			'WiseNut [Bot]' 									=> false,
			'WissenOnline [Bot]' 								=> false,
			'Worio [Bot]' 										=> false,
			'WWWeasel [Bot]' 									=> false,
			'Xaldon [Spider]' 									=> false,
			'XML Sitemap Generator [Bot]' 						=> false,
			'YahooCacheSystem [Bot]' 							=> false,
			'Yahoo China [Bot]' 								=> false,
			'Yahoo Japan [Bot]' 								=> false,
			'Yahoo Pipes [Bot]' 								=> false,
			'Yahoo Search Marketing [Bot]' 						=> false,
			'Yahoo! Blogs [Bot]' 								=> false,
			'Yahoo! Feed Seeker [RSS]' 							=> false,
			'Yahoo! Mindset [Bot]' 								=> false,
			'Yahoo! Search Marketing [Crawler]' 				=> false,
			'Yahoo! SpiderMan [Bot]' 							=> false,
			'Yahoo! Test [Bot]' 								=> false,
			'Yahoo! VerticalCrawler [Bot]'			 			=> false,
			'Yandex [Bot]' 										=> false,
			'Yandex Images [Bot]' 								=> false,
			'Yandex Direct [Bot]' 								=> false,
			'Yanga [Bot]' 										=> false,
			'Yebol [Bot]' 										=> false,
			'Yesup [Bot]' 										=> false,
			'Yigg [Bot]' 										=> false,
			'Yodao [Bot]' 										=> false,
			'Youdao [Bot]' 										=> false,
			'Zerx [Bot]' 										=> false,
		];

		if (!function_exists('user_delete'))
		{
			include($this->phpbb_root_path . 'includes/functions_user.' . $this->php_ext);
		}

		foreach ($bots_updates as $bot_name => $bot_agent)
		{
			$sql = 'SELECT user_id
				FROM ' . USERS_TABLE . '
				WHERE user_type = ' . USER_IGNORE . "
					AND username_clean = '" . $this->db->sql_escape(utf8_clean_string($bot_name)) . "'";
			$result = $this->db->sql_query($sql);
			$bot_user_id = (int) $this->db->sql_fetchfield('user_id');
			$this->db->sql_freeresult($result);

			if ($bot_user_id)
			{
				if ($bot_agent === false)
				{
					$sql = 'DELETE FROM ' . BOTS_TABLE . "
						WHERE user_id = $bot_user_id";
					$this->sql_query($sql);

					user_delete('retain', $bot_user_id);
				}
			}
		}
	}
}
